version: '3.8'

services:
  appointment-service:
    build: .
    ports:
      - "8004:8004"
    environment:
      - PORT=8004
      - DATABASE_URL=sqlite:///./appointment.db
      - PATIENT_SERVICE_URL=http://patient-service:8001
      - DOCTOR_SERVICE_URL=http://doctor-service:8002
      - BILLING_SERVICE_URL=http://billing-service:8003
      - NOTIFICATION_SERVICE_URL=http://notification-service:8007
    volumes:
      - .:/app
      - appointment-db:/data
    depends_on:
      - patient-service
      - doctor-service
      - billing-service
      - notification-service

volumes:
  appointment-db:

